{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\user\\\\Documents\\\\GitHub\\\\fundolero\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\user\\\\Documents\\\\GitHub\\\\fundolero\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _objectWithoutProperties from\"C:\\\\Users\\\\user\\\\Documents\\\\GitHub\\\\fundolero\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";import React,{useEffect}from\"react\";import{Route,withRouter}from\"react-router-dom\";import{useAuth0}from\"../react-auth0-spa\";var PrivateRoute=function PrivateRoute(_ref){var Component=_ref.component,path=_ref.path,location=_ref.location,rest=_objectWithoutProperties(_ref,[\"component\",\"path\",\"location\"]);var _useAuth=useAuth0(),isAuthenticated=_useAuth.isAuthenticated,loginWithRedirect=_useAuth.loginWithRedirect;useEffect(function(){var fn=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(isAuthenticated){_context.next=3;break;}_context.next=3;return loginWithRedirect({appState:{targetUrl:location.pathname}});case 3:case\"end\":return _context.stop();}}},_callee);}));return function fn(){return _ref2.apply(this,arguments);};}();fn();},[isAuthenticated,loginWithRedirect,path,location]);var render=function render(props){return isAuthenticated===true?React.createElement(Component,props):null;};return React.createElement(Route,Object.assign({path:path,render:render},rest));};export default withRouter(PrivateRoute);","map":{"version":3,"sources":["C:/Users/user/Documents/GitHub/fundolero/src/components/PrivateRoute.js"],"names":["React","useEffect","Route","withRouter","useAuth0","PrivateRoute","Component","component","path","location","rest","isAuthenticated","loginWithRedirect","fn","appState","targetUrl","pathname","render","props"],"mappings":"0ZAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CAEA,OAASC,KAAT,CAAgBC,UAAhB,KAAkC,kBAAlC,CACA,OAASC,QAAT,KAAyB,oBAAzB,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAAuD,IAAzCC,CAAAA,SAAyC,MAApDC,SAAoD,CAA9BC,IAA8B,MAA9BA,IAA8B,CAAxBC,QAAwB,MAAxBA,QAAwB,CAAXC,IAAW,6EAC3BN,QAAQ,EADmB,CAClEO,eADkE,UAClEA,eADkE,CACjDC,iBADiD,UACjDA,iBADiD,CAG1EX,SAAS,CAAC,UAAM,CACd,GAAMY,CAAAA,EAAE,2FAAG,sIACJF,eADI,+CAEDC,CAAAA,iBAAiB,CAAC,CACtBE,QAAQ,CAAE,CAAEC,SAAS,CAAEN,QAAQ,CAACO,QAAtB,CADY,CAAD,CAFhB,uDAAH,kBAAFH,CAAAA,EAAE,2CAAR,CAOAA,EAAE,GACH,CATQ,CASN,CAACF,eAAD,CAAkBC,iBAAlB,CAAqCJ,IAArC,CAA2CC,QAA3C,CATM,CAAT,CAWA,GAAMQ,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAAAC,KAAK,QAClBP,CAAAA,eAAe,GAAK,IAApB,CAA2B,oBAAC,SAAD,CAAeO,KAAf,CAA3B,CAAsD,IADpC,EAApB,CAGA,MAAO,qBAAC,KAAD,gBAAO,IAAI,CAAEV,IAAb,CAAmB,MAAM,CAAES,MAA3B,EAAuCP,IAAvC,EAAP,CACD,CAlBD,CAgCA,cAAeP,CAAAA,UAAU,CAACE,YAAD,CAAzB","sourcesContent":["import React, { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Route, withRouter } from \"react-router-dom\";\nimport { useAuth0 } from \"../react-auth0-spa\";\n\nconst PrivateRoute = ({ component: Component, path, location, ...rest }) => {\n  const { isAuthenticated, loginWithRedirect } = useAuth0();\n\n  useEffect(() => {\n    const fn = async () => {\n      if (!isAuthenticated) {\n        await loginWithRedirect({\n          appState: { targetUrl: location.pathname }\n        });\n      }\n    };\n    fn();\n  }, [isAuthenticated, loginWithRedirect, path, location]);\n\n  const render = props =>\n    isAuthenticated === true ? <Component {...props} /> : null;\n\n  return <Route path={path} render={render} {...rest} />;\n};\n\nPrivateRoute.propTypes = {\n  component: PropTypes.oneOfType([PropTypes.element, PropTypes.func])\n    .isRequired,\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired\n  }).isRequired,\n  path: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string)\n  ]).isRequired\n};\n\nexport default withRouter(PrivateRoute);\n"]},"metadata":{},"sourceType":"module"}